<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>class-32</h1>
    <ul id="user-list"></ul>
    <p id="error-message" style="color:red;"></p>

    <script>
        async function fetchUsers() {
            try {
                const response = await fetch("https://fake-json-api.mock.beeceptor.com/users");
                if (!response.ok) {
                    throw new Error("Failed to fetch data");
                }
                const data = await response.json();
                console.log(data);
                return data;
            } catch (error) {
                console.log(error);
                throw error;
            }
        }

        async function displayUsers() {
            try {
                const users = await fetchUsers();
                const userList = document.getElementById("user-list");

                if (userList) {
                    userList.innerHTML = ""; // Clear previous list

                    users.forEach(user => {
                        const userElement = document.createElement("li");
                        userElement.className = "user-card";
                        userElement.innerHTML = `
                            <div class="user-image">
                                <img src="${user.image || "/placeholder-user.jpg"}" alt="${user.name || "user"}" 
                                onerror="this.src='/placeholder-user.jpg'">
                            </div>
                            <h3>${user.name}</h3>
                            <p>${user.email}</p>
                            <p>${user.phone}</p>
                        `;
                        userList.appendChild(userElement);
                    });
                }
            } catch (error) {
                const errorElement = document.getElementById("error-message");
                if (errorElement) {
                    errorElement.textContent = "Failed to load users. Please try again later.";
                }
            }
        }

        displayUsers();
    </script>
</body>
</html>